<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Process Costing Flow</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 20px;
  }
  svg {
    background: #f8f8f8;
    border: 1px solid #ccc;
  }
  .stage {
    fill: #d1e7dd;
    stroke: #0f5132;
    stroke-width: 2px;
  }
  .arrow {
    stroke: #0f5132;
    stroke-width: 2px;
    marker-end: url(#arrowhead);
  }
  .unit {
    fill: #0d6efd;
    stroke: white;
    stroke-width: 1px;
  }
</style>
</head>
<body>

<h1>Process Costing Animation</h1>
<p>This animation shows how units move from Raw Materials → WIP → Finished Goods → COGS.</p>

<svg id="flowSVG" width="800" height="200">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0f5132"/>
    </marker>
  </defs>

  <!-- Stages -->
  <rect x="50" y="50" width="150" height="100" class="stage"/>
  <text x="125" y="115" text-anchor="middle" font-size="16">Raw Materials</text>

  <rect x="300" y="50" width="150" height="100" class="stage"/>
  <text x="375" y="115" text-anchor="middle" font-size="16">WIP</text>

  <rect x="550" y="50" width="150" height="100" class="stage"/>
  <text x="625" y="115" text-anchor="middle" font-size="16">Finished Goods</text>

  <!-- Arrows -->
  <line x1="200" y1="100" x2="300" y2="100" class="arrow"/>
  <line x1="450" y1="100" x2="550" y2="100" class="arrow"/>
  <line x1="700" y1="100" x2="780" y2="100" class="arrow"/>

  <!-- Units -->
  <circle class="unit" r="10" cx="80" cy="100"/>
  <circle class="unit" r="10" cx="110" cy="100"/>
  <circle class="unit" r="10" cx="140" cy="100"/>
</svg>

<script>
const units = document.querySelectorAll('.unit');

function animateUnits() {
  units.forEach((unit, index) => {
    const delay = index * 1000;
    setTimeout(() => moveUnit(unit, 80, 100, 680, 100, 6000), delay);
  });
}

function moveUnit(unit, startX, startY, endX, endY, duration) {
  let startTime = null;
  function animate(time) {
    if (!startTime) startTime = time;
    const progress = Math.min((time - startTime) / duration, 1);
    const x = startX + (endX - startX) * progress;
    const y = startY + (endY - startY) * progress;
    unit.setAttribute('cx', x);
    unit.setAttribute('cy', y);
    if (progress < 1) {
      requestAnimationFrame(animate);
    }
  }
  requestAnimationFrame(animate);
}

animateUnits();
</script>

</body>
</html>
